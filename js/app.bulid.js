!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e){const r={makeRow(t=0){const e=new Array(9);return e.fill(t),e},makeMatrix(t){return Array.from({length:9},()=>this.makeRow(t))},shffule(t){const e=t.length-2;for(let r=0;r<=e;r++){const e=r+Math.floor(Math.random()*(t.length-r));[t[r],t[e]]=[t[e],t[r]]}return t},fillNumAble(t,e,r,o){const i=t[r],s=this.makeRow().map((e,r)=>t[r][o]),{boxIndex:a}=n.converToBoxIndex(r,o),c=n.getBoxCells(t,a);for(let t=0;t<9;t++)if(i[t]===e||s[t]===e||c[t]===e)return!1;return!0}},n={getBoxCells(t,e){const r=3*Math.floor(e/3),n=e%3*3,o=[];for(let e=0;e<9;e++){const i=r+Math.floor(e/3),s=n+e%3;o.push(t[i][s])}return o},converToBoxIndex:(t,e)=>({boxIndex:3*Math.floor(t/3)+Math.floor(e/3),cellIndex:t%3*3+e%3}),converFromBoxIndex:(t,e)=>({rowIndex:3*Math.floor(t/3)+Math.floor(e/3),colIndex:t%3*3+e%3})},o={divToArray(t){return this._$container=t,this._$container.children().map((t,e)=>$(e).children().map((t,e)=>parseInt($(e).text())||0)).toArray().map(t=>t.toArray())}};t.exports=class{static get matrix(){return r}static get box(){return n}static get CurrentDtata(){return o}}},function(t,e,r){
/*!
 * storejs v1.0.16
 * Local storage localstorage package provides a simple API
 * 
 * Copyright (c) 2017 kenny wang <wowohoo@qq.com>
 * https://github.com/jaywcjlove/store.js
 * 
 * Licensed under the MIT license.
 */
t.exports=function(){if(window.localStorage){var t,e=window.localStorage,r=function(){};for(var n in e=function(t){var e="_Is_Incognit";try{t.setItem(e,"yes")}catch(e){if("QuotaExceededError"===e.name){var r=function(){};t.__proto__={setItem:r,getItem:r,removeItem:r,clear:r}}}finally{"yes"===t.getItem(e)&&t.removeItem(e)}return t}(e),s.prototype={set:function(t,n){if(r("set",t,n),t&&!o(t))e.setItem(t,function(t){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t)}(n));else if(t&&o(t)&&!n)for(var i in t)this.set(i,t[i]);return this},get:function(t){if(!t){var r={};return this.forEach(function(t,e){r[t]=e}),r}return"?"===t.charAt(0)?this.has(t.substr(1)):function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}(e.getItem(t))},clear:function(){return this.forEach(function(t,e){r("clear",t,e)}),e.clear(),this},remove:function(t){var n=this.get(t);return e.removeItem(t),r("remove",t,n),n},has:function(t){return{}.hasOwnProperty.call(this.get(),t)},keys:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t},size:function(){return this.keys().length},forEach:function(t){for(var r=0;r<e.length;r++){var n=e.key(r);if(!1===t(n,this.get(n)))break}return this},search:function(t){for(var e=this.keys(),r={},n=0;n<e.length;n++)e[n].indexOf(t)>-1&&(r[e[n]]=this.get(e[n]));return r},onStorage:function(t){return t&&i(t)&&(r=t),this}},t=function(e,r){var n=arguments,a=s(),c=null;if(0===n.length)return a.get();if(1===n.length){if("string"==typeof e)return a.get(e);if(o(e))return a.set(e)}if(2===n.length&&"string"==typeof e){if(!r)return a.remove(e);if(r&&"string"==typeof r)return a.set(e,r);if(r&&i(r))return c=null,(c=r(e,a.get(e)))?t.set(e,c):t}if(2===n.length&&e instanceof Array&&i(r)){for(var l=0;l<e.length;l++)c=r(e[l],a.get(e[l])),t.set(e[l],c);return t}},s.prototype)t[n]=s.prototype[n];return t}function o(t){return"object"==typeof t&&"[object object]"===Object.prototype.toString.call(t).toLowerCase()&&!t.length}function i(t){return"[object Function]"==={}.toString.call(t)}function s(){if(!(this instanceof s))return new s}}()},function(t,e,r){const n=r(0),o=r(1);t.exports=class{constructor(t){this._$container=t}setItem(){const t=n.CurrentDtata.divToArray(this._$container);t&&o.set("savedata",t)}getItem(){return o.get("savedata")}removeItem(){o.remove("savedata")}}},function(t,e){t.exports=class{constructor(t){this._$pop=t.hide().removeClass("hidden"),this._$pop.on("click","span",t=>{const e=this._targetCell,r=$(t.target);return r.hasClass("mark1")?(e.hasClass("mark1")?e.removeClass("mark1"):(e.removeClass("mark2"),e.addClass("mark1")),void this.pophidden()):r.hasClass("mark2")?(e.hasClass("mark2")?e.removeClass("mark2"):(e.removeClass("mark1"),e.addClass("mark2")),void this.pophidden()):r.hasClass("cancel")?(e.text(0).addClass("empty"),void this.pophidden()):(e.text(r.text()).removeClass("empty"),void this.pophidden())})}popup(t){this._targetCell=t;const{left:e,top:r}=t.position();let n=`${e}`;n>205&&(n-=84),this._$pop.css({left:n+"px",top:`${r}px`}).show()}pophidden(){this._$pop.hide().addClass("hideen")}}},function(t,e,r){function n(t){const e=t.length,r=new Array(e);r.fill(!0);for(let n=0;n<e-1;n++){const o=t[n];if(o)for(let i=n+1;i<e;i++)o===t[i]&&(r[n]=r[i]=!1);else r[n]=!1}return r}const o=r(0);t.exports=class{constructor(t){this._matrix=t,this._matrixMakes=o.matrix.makeMatrix(!0)}get makeMatrix(){return this._matrixMakes}get isSuccess(){return this.isSuccess}checker(){return this.checkRoww(),this.chexkCol(),this.checkBox(),this._matrixMakes.every(t=>t.every(t=>t))}checkRoww(){for(let t=0;t<9;t++){const e=n(this._matrix[t]);for(let r=0;r<e.length;r++)e[r]||(this._matrixMakes[t][r]=!1)}}chexkCol(){for(let t=0;t<9;t++){const e=[];for(let r=0;r<9;r++)e[r]=this._matrix[r][t];const r=n(e);for(let e=0;e<r.length;e++)r[e]||(this._matrixMakes[e][t]=!1)}}checkBox(){for(let t=0;t<9;t++){const e=n(o.box.getBoxCells(this._matrix,t));for(let r=0;r<9;r++)if(!e[r]){const{rowIndex:e,colIndex:n}=o.box.converFromBoxIndex(t,r);this._matrixMakes[e][n]=!1}}}}},function(t,e,r){const n=r(0);t.exports=class{generate(){for(;!this.innerGenerate(););}innerGenerate(){this.matrix=n.matrix.makeMatrix(),this.oder=n.matrix.makeMatrix().map(t=>t.map((t,e)=>e)).map(t=>n.matrix.shffule(t));for(let t=1;t<=9;t++)if(!this.fillNum(t))return!1;return!0}fillNum(t){return this.fillRow(t,0)}fillRow(t,e){if(e>8)return!0;const r=this.matrix[e],o=this.oder[e];for(let i=0;i<9;i++){const s=o[i];if(!r[s]&&n.matrix.fillNumAble(this.matrix,t,e,s)){if(r[s]=t,this.fillRow(t,e+1))return!0;r[s]=0}}return!1}}},function(t,e,r){const n=r(5);t.exports=class{constructor(){const t=new n;t.generate(),this.solutionMatrix=t.matrix}make(t=5){this.puzzleMatrix=this.solutionMatrix.map(e=>e.map(e=>9*Math.random()<t?0:e))}}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return c});const n=r(6),o=r(4),i=r(0),s=r(2),a=r(1);class c{constructor(t){this._$container=t}bulidui(t){this.level=t;let e=[];const r=new s(null);if(r.getItem())e=r.getItem(),r.removeItem();else{const t=new n;t.make(this.level),e=t.puzzleMatrix,a.set("currentdata",e)}let o=a.get("currentdata");for(let t=0;t<9;t++)for(let r=0;r<9;r++)o[t][r]==e[t][r]&&(o[t][r]=1);const i=e.map(t=>t.map(t=>$("<span>").addClass(t?"fixed":"empty").text(t))).map(t=>$("<div>").addClass("row").append(t));this._$container.append(i),this._$container.children().each((t,e)=>{$(e).children().each((e,r)=>{0===o[t][e]&&$(r).removeClass("fixed")})})}check(){this._popupnum.pophidden();const t=i.CurrentDtata.divToArray(this._$container),e=new o(t);if(e.checker())return!0;const r=e._matrixMakes;this._$container.children().each((t,e)=>{$(e).children().each((e,n)=>{r[t][e]||$(n).hasClass("empty")||$(n).addClass("error")})})}reset(){this._popupnum.pophidden(),this._$container.children().each((t,e)=>{$(e).children().each((t,e)=>{$(e).hasClass("fixed")||$(e).text(0).addClass("empty"),$(e).removeClass("error")})})}clear(){this._popupnum.pophidden(),this._$container.children().each((t,e)=>{$(e).children().each((t,e)=>{$(e).hasClass("error")&&$(e).removeClass("error")})})}rebulid(){this._popupnum.pophidden(),this._$container.empty(),this.bulidui(this.level)}bindPopnum(t){this._popupnum=t,this._$container.on("click","span",e=>{const r=$(e.target);r.hasClass("fixed")?t.pophidden():t.popup(r)})}}},function(t,e,r){"use strict";r.r(e);r(13);const n=r(7).default,o=r(3),i=r(2),s=(r(1),new n($("#container")));s.bulidui(5);const a=new i($("#container"));let c=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"beforeunload";$(window).bind(c,t=>a.setItem());const l=new o($("#popup"));s.bindPopnum(l),$("#check").on("click",t=>{s.check()&&(alert("复原数独，厉害了啊"),$(window).unbind(c,null))}),$("#reset").on("click",t=>s.reset()),$("#clear").on("click",t=>s.clear()),$("#rebulid").on("click",t=>s.rebulid())},,,,,function(t,e){}]);